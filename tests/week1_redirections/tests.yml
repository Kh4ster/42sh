- name: Redirection Simple
  stdin: echo ok > toto; cat toto; rm toto
  checks:
    - stdout
    - returncode

- name: Redirection within an if case
  stdin: if echo ok > toto; cat toto; then echo food; fi; rm toto
  checks:
    - stdout
    - returncode

- name: Redirection append
  stdin: echo good >> toto

- name: Redirection stdin
  stdin: cat < toto; rm toto;

- name: Redirection simple - check if override
  stdin: echo ok > toto; cat toto; rm toto
  checks:
    - stdout
    - returncode

- name: Redirection without file
  stdin: echo ok >
  checks:
    - has_stderr
    - returncode

- name: Redirection without a command
  options:
    - "-c"
    - "> toto"

- name: Redirection of a whole command
  stdin: if echo ok; then echo good; fi > toto; cat toto; rm toto
  checks:
    - stdout
    - returncode

- name: Redirection of a command - redirector at beginning of line
  stdin: if > toto echo ok; cat toto; then echo ko; fi; rm toto
  checks:
    - stdout
    - returncode

- name: Redirection of stderr to file to stdout
  stdin: ech ok 2> toto; cat toto; rm toto
  checks:
    - stdout
    - returncode
